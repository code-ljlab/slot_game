# WordPress Themify 設定ガイド

このガイドでは、スロットゲームをWordPress Themifyで動作させる方法を説明します。

## 必要なファイル

- `wordpress-themify-version.html` - WordPress Themify専用に最適化されたバージョン

## セットアップ手順

### 1. WordPress管理画面にログイン

WordPressの管理画面（`/wp-admin`）にログインします。

### 2. 新規ページまたは投稿を作成

- **固定ページの場合**: 「固定ページ」→「新規追加」
- **投稿の場合**: 「投稿」→「新規追加」

### 3. Themify Builderを起動

ページ/投稿の編集画面で「Themify Builder」ボタンをクリックして、ビルダーを起動します。

### 4. HTMLモジュールを追加

1. Themify Builderのモジュールパネルを開く
2. 「HTML」モジュールを見つける
3. ページの任意の場所にドラッグ&ドロップ

### 5. コードを貼り付け

1. HTMLモジュールの編集画面を開く
2. `wordpress-themify-version.html`の内容を**全て**コピー
3. HTMLモジュールのテキストエリアに貼り付け
4. 「保存」をクリック

### 6. ページを保存・公開

1. Themify Builderを終了
2. ページ/投稿を「公開」または「更新」

## 技術的な特徴

### WordPressとの互換性

- **ID重複の回避**: すべてのIDに`slot-`プレフィックスを追加
- **スタイルの独立性**: `.slot-game-wrapper`クラスでラップ
- **JavaScript競合の防止**: 即時実行関数（IIFE）でコードを隔離

### レスポンシブ対応

- デスクトップ・タブレット・スマートフォンに対応
- 画面幅480px以下でモバイル最適化

## トラブルシューティング

### ゲームが表示されない場合

1. **JavaScriptエラーの確認**
   - ブラウザの開発者ツール（F12）でコンソールを確認
   - エラーメッセージがあれば内容を確認

2. **HTMLモジュールの設定確認**
   - コードが正しく貼り付けられているか確認
   - HTMLタグが自動削除されていないか確認

3. **テーマとの競合**
   - 他のプラグインを一時的に無効化して確認
   - テーマのJavaScriptと競合していないか確認

### スタイルが崩れる場合

1. **CSSの優先度**
   - より具体的なセレクタを使用
   - 必要に応じて`!important`を追加

2. **テーマのCSSリセット**
   - テーマのグローバルCSSが影響している可能性
   - `.slot-game-wrapper`内のスタイルを調整

## カスタマイズ

### 当たり確率の変更

JavaScriptコード内の以下の部分を編集：

```javascript
const rand = Math.random();
const isWin = rand < 0.2;  // 20%で当たり
const isNearMiss = rand >= 0.2 && rand < 0.3;  // 10%でニアミス
```

### デザインの変更

CSSセクション内の色やサイズを調整：

```css
.slot-game-wrapper {
    --color-blue: #0055A4;   // 青色
    --color-white: #FFFFFF;  // 白色
    --color-red: #EF4135;    // 赤色
}
```

### メッセージの変更

JavaScriptコード内のメッセージ配列を編集して、表示されるメッセージをカスタマイズできます。

## 複数設置する場合

同じページに複数のスロットゲームを設置する場合は、以下の点に注意：

1. 各ゲームのIDを一意に変更（例：`slot-digit1` → `slot2-digit1`）
2. JavaScript内の対応するIDも変更
3. 各ゲームを別々の即時実行関数でラップ

## サポート

問題が発生した場合は、以下の情報を準備してください：

- WordPressのバージョン
- Themifyのバージョン
- 使用しているテーマ名
- エラーメッセージ（もしあれば）
- ブラウザとそのバージョン